# 异常的设计

## 嵌套异常处理器

`try` 语句可以用于嵌套，当出现异常时，会自动锁定到最近进入的 `try` 语句，执行其异常处理代码

当 `try/finally` 语句嵌套并且发生异常时，每个 `finally` 语句都会执行，Python 会持续将异常向上层 `try` 语句传递（最终可能会到达顶层，也就是默认异常处理器）

### 例子：控制化流程嵌套

参考 `1、嵌套异常处理器.py`

### 例子：语法嵌套化

参考 `1、嵌套异常处理器.py`

## 异常的习惯用法

### 异常不总是错误

如之前讲到的迭代器，在迭代完之后还会进行一次迭代，返回一个异常，但是这个异常并不是一个错误，而是告知程序迭代结束

同理如读取文件，在最后一行结束后，会返回一个 `EOFError` 异常

再比如调用 `sys.exit()` 并在键盘上按下 Ctrl+C，会分别引发 `SystemExit` 和 `KeyboardInterrupt`

以上这些异常，代表的是**警告**，而**不是错误**

### 函数信号条件和 raise

用户定义的异常也可以引发非错误的情况
TODO:909
### 关闭文件和服务器连接

### 在 try 外进行调试

### 运行进程中的测试

### 关于 sys.exc_info

## 与异常有关的技巧

## 应该包装什么

### 捕捉太多：避免空 except 语句

### 捕捉过少：使用基于类的分类

## 核心语言总结

### Python 工具集

### 大型项目的开发工具

## 本章小结
