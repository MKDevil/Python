# 异常对象

基于类的异常的特点：

* 提供类型分类，有利于后期修改
* 附加了状态信息
* 支持继承

## 异常：回到未来

本节讲述过去定义异常的方法（Python 2.6 以前）

### 字符串异常很简单

```Python
# 该方法在 Python 2.6 被弃用
myexc = 'got an exception'
raise myexc
```

### 基于类的异常

类异常相比于字符串异常：

* 字符串异常通过简单的**对象识别**匹配（使用 `is` 测试匹配 `except` 语句）
* 类异常由**超类关系**进行匹配（只要 `except` 子句列举了异常的类或其任何超类，引发的异常都会匹配该子句）

### 类异常例子

参考 `1、类异常例子.py`

## 为什么使用类异常

参考 `2、为什么使用类异常.py`

使用类异常，可以减少代码工作量，只列出某些类的超类，即可检测所有子类异常

## 内置 Exception 类

BaseException
: 异常的**顶级根类**。不能被用户定义的类直接继承。

Exception
: 与应用相关的异常的定层根超类。除了系统退出事件外（SystemExit、KeyboardInterrupt、和GeneratorExit），是其他所有内置异常的超类。在 `try` 语句后指明 `except Exception` 可以捕获除了系统退出之外的所有异常。

ArithmeticError
: 所有数值错误的超类（Exception的一个子类）

OverflowError
: 识别特定的数值错误的子类

### 内置异常分类

### 默认打印和状态

除非重新定义异常类的构造函数，否则传递给类构造函数的参数，都会保存在 `args` 元组中，并在打印该实例的时候自动显示。对于用户定义的异常，如果没有重新定义构造函数，也会保存在 `args` 元组中。

```Python
raise IndexError
raise IndexError('spam')
X = IndexError('spam')
raise X
```

## 定制打印显示

通过重载异常类的 `__str__` 或 `__repr__` 方法，可以定制异常的打印显示

注意：因为一般超类都有 `__str__`，想要显示正确，应当重载 `__str__` 方法

## 定制数据和行为

### 提供异常细节

### 提供异常方法

## 本章小结
